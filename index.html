<!doctype html>
<html>
  <head>
    <meta charset=utf-8 />
    <title>Immersive browser</title>
    <script src="node_modules/aframe/dist/aframe.min.js"></script>
    <script src="node_modules/inlineresources/dist/inlineresources.allinone.js"></script>
    <script src="js/draw-html-canvas.js"></script>
  </head>
  <body>
    <iframe src="content.html" style="visibility: hidden"></iframe>

    <a-scene>
      <a-assets timeout="10000">
        <img id="sky" src="media/blue.jpg" />
        <img id="grass" src="media/grass.jpg" />
        <canvas id="canvas-content" width="1024" height="1448"></canvas>
        <canvas id="canvas-title" width="1024" height="1024"></canvas>
        <canvas id="canvas-image" width="1024" height="1024"></canvas>
      </a-assets>

      <a-entity id="rig" position="-0.05 1.6 0" rotation="0 -8 0">
        <a-entity camera look-controls wasd-controls="acceleration:1" position="0 0 0"></a-entity>
      </a-entity>
      
      <a-sky src="#sky"></a-sky>
      <a-plane src="#grass" height="100" width="100" rotation="-90 0 0" repeat="10 10"></a-plane>

      <a-plane position="0 1.6 -0.25" width="0.21" height="0.297"
        material="src:#canvas-content" draw-html-canvas="src:#canvas-content"></a-plane>
      <a-plane id="plane-title" material="src:#canvas-title" visible="false"></a-plane>
      <a-plane id="plane-image" material="src:#canvas-image" visible="false"></a-plane>

      <a-light type="ambient" color="#445451"></a-light>
      <a-light type="point" intensity="1" position="2 4 4"></a-light>
    </a-scene>
  </body>
</html>
